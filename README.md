# rules_docker-examples

This project provides examples on how to build Docker images using
[rules_docker](https://github.com/bazelbuild/rules_docker). This project is
structured such that every directory contains one separate example. For ease of
understanding, each example also comes with the equivalent Dockerfile. In
addition, most examples include tests that run against the image generated from
a Dockerfile and against the image generated by rules_docker.

## Getting Started

Simply browse each directory and compare side by side the Dockerfile with the
BUILD file where the Bazel targets to build images are defined.

In order to run the tests to verify the images' equivalence, first build and
save all the Docker images from their Dockerfiles, by running the following
script from the root of this project:
```
$ build_images.sh
```

You can then run all the test targets (which will also build all the required
images using rules_docker) by running the following from the root of this
project:
```
$ bazel test //...
```

## More Details

For further comparison details between Dockerfile and container_image from
rules_docker, please refer to the [Dockerfile reference](https://docs.docker.com/engine/reference/builder)
and [container_image reference](https://github.com/bazelbuild/rules_docker#container_image-1)
